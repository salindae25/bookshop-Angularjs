<div ng-init="populate()">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-1">
            <!-- <h3 class="caption ">Add Book</h3> -->
            <button ng-click="goToIndex()" class="btn btn-primary"> Go Back</button>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-3">
            <img ng-src="{{item.ImgUrl}}" alt="{{item.BookName}}" class="img-thumbnail" />
        </div>
        <div class="col-lg-4">
            <div class="form-container ">
                <form novalidate class="form-horizontal" name="addForm">
                    <div class="form-group">
                        <button type="button" class="btn btn-primary" ng-click="addBook(item)" ng-disabled="addForm.$invalid">Add Book</button>
                        <button type="button" class="btn btn-danger" ng-click="resetForm(item)" ng-disabled="!addForm.$dirty">Reset</button>
                    </div>
                    <div class="form-group">
                        <label for="BookName">Book Title</label>
                        <div class="input-group">
                            <span class="input-group-addon">Title :</span>
                            <input type="text" class="form-control" name="bookName" ng-model="item.BookName" ng-maxlength="20" placeholder="Book Title"
                                required>
                        </div>
                        <div ng-show="addForm.bookName.$dirty">
                            <dir ng-show="addForm.bookName.$error.required" class="alert alert-danger"> Please enter Book Title</dir>
                            <div ng-show="addForm.bookName.$error.maxlength" class="alert alert-danger">
                                The Name must be less 20 characters
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="AuthorName">Author Name</label>
                        <div class="input-group">
                            <span class="input-group-addon">Name :</span>
                            <input type="text" class="form-control" name="authorName" ng-maxlength="50" ng-pattern="/^[a-zA-Z. ]*$/" ng-model="item.AuthorName"
                                placeholder="Author Name.." required>
                        </div>
                        <div ng-show="addForm.authorName.$dirty">
                            <div ng-show="addForm.authorName.$error.pattern" class="alert alert-danger">
                                The Author Name must contain letters only!
                            </div>
                            <div ng-show="addForm.authorName.$error.required" class="alert alert-danger">
                                Please enter Author Name.
                            </div>
                            <div ng-show="addForm.authorName.$error.maxlength" class="alert alert-danger">
                                The Name must be less 50 characters
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="BookType">Book Type</label>
                        <div class="input-group">
                            <span class="input-group-addon">Type :</span>
                            <select class="form-control" name="bookType" ng-model="item.GenreId" required add-book-Type>
                                <option value="-1">Other</option>
                                <option ng-repeat="genre in genres" value="{{genre.Id}}">{{genre.Name}}</option>
                            </select>
                        </div>
                        <div ng-show="addForm.bookType.$error.$dirty">
                            <div ng-show="addForm.bookType.$error.required" class="alert alert-danger">
                                Please select Book type.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Price">Price</label>
                        <div class="input-group">
                            <span class="input-group-addon">$</span>
                            <input type="number" class="form-control" name="price" ng-model="item.Price" ng-pattern="/^[0-9]{0,3}[.]*[0-9]{0,2}$/" aria-label="Amount (to the nearest dollar)"
                                required>
                        </div>
                        <div ng-show="addForm.price.$dirty">
                            <div ng-show="addForm.price.$error.pattern" class="alert alert-danger">
                                Price should less than $99999.00 and in the format nnn.nn</div>
                            <div ng-show="addForm.price.$error.required" class="alert alert-danger">
                                Please enter the Price of the book.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="ImgUrl">Book Image </label>
                        <div class="input-group">
                            <span class="input-group-addon">Url :</span>
                            <input type="file" name="ImgUrl" accept="image/*" class="form-control" ng-model="item.imageFile" image-model required>
                        </div>

                        <div ng-show="addForm.ImgUrl.$error.required && addForm.$submitted" class="alert alert-warning">
                            Please select Image file of the book.
                        </div>
                        <div ng-show="addForm.ImgUrl.$error.image" class="alert alert-danger">
                            Only image file accepted with extension :- .png, .jpg, .jpeg ..
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Description">Book Description </label>
                        <div class="input-group">
                            <span class="input-group-addon">Description</span>
<textarea class="form-control" name="description " ng-maxlength="500 " ng-model="item.Description " rows="5" placeholder="short description of the book "></textarea>
                        </div>

                        <div ng-show="addForm.description.$error.maxlength " class="alert alert-danger ">
                            Description should less than 500 characters</div>

                    </div>

                </form>
            </div>
        </div>

    </div>
</div>